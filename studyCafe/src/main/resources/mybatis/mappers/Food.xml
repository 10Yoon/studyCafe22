<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
          "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.food">
	
	<!-- <![CDATA[
	
	]]> -->
	<!-- 전체 음식 목록 조회 -->
	<select id="listFood" resultType="food">
	<![CDATA[
		select * from food
	]]>
	</select>
	
	<!-- 특정 종류 조회 -->
	<select id="listTypeFood" resultType="food" parameterType="int">
	<![CDATA[
		select * from food where type=#{type}
	]]>
	</select>
	
	<!-- 장바구니 조회 -->
	<select id="getCart" resultType="cart" parameterType="int">
	<![CDATA[
		select a.cart_no, a.user_number, a.food_no, a.quantity, b.food_name, b.food_price
		from cart a left outer join food b on a.food_no = b.food_no
		where user_number = #{user_number}
	]]>
	</select>
	
	<insert id="addCart" parameterType="cart">
	<![CDATA[
		insert into cart
		values(cart_seq.nextval, #{user_number}, #{food_no}, #{quantity})
	]]>
	</insert>
	
</mapper>    



      











